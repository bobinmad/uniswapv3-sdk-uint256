package entities

import (
	"strconv"
	"strings"
	"testing"

	"github.com/KyberNetwork/int256"
	"github.com/daoleno/uniswap-sdk-core/entities"
	"github.com/ethereum/go-ethereum/common"
	"github.com/holiman/uint256"
)

// var poolAddress = common.HexToAddress("0x4e68ccd3e89f51c3074ca5072bbac773960dfa36")
var WETH_USDT_pool_ticks_csv = `-887220;18015634290956589;18015634290956589
-414480;34543885975409;34543885975409
-368460;36488597426;36488597426
-361500;7291342873418;7291342873418
-358140;24199791669961254;24199791669961254
-357360;55365840142507116;55365840142507116
-356400;55365840142507116;-55365840142507116
-356220;24199791669961254;-24199791669961254
-351180;664058338200669;664058338200669
-349440;664058338200669;-664058338200669
-348960;1030111628826338;1030111628826338
-345420;169948537884090;169948537884090
-345240;41616435971610862;41616435971610862
-343560;169948537884090;-169948537884090
-343200;41616435971610862;-41616435971610862
-342060;84695952323;84695952323
-339000;1030111628826338;-1030111628826338
-338460;7291342873418;-7291342873418
-323400;17069717179;17069717179
-322380;383344368069245;383344368069245
-320580;383344368069245;-383344368069245
-300420;17148019954;17148019954
-299340;5508389560097;5508389560097
-292440;1803579396721;1803579396721
-277380;594609443512;594609443512
-276420;996550885;996550885
-276360;142322427413;142322427413
-276300;5631958969453;2024800176011
-264660;387767961400632;387767961400632
-261960;387767961400632;-387767961400632
-260220;7166286345721;7166286345721
-259860;17496133052;17496133052
-237180;342909760817;342909760817
-232500;126398551245;126398551245
-230280;353241822613;-353241822613
-230220;73382200827;73382200827
-225660;520146546196838;520146546196838
-223980;2150345848697;2150345848697
-221760;236260502547;236260502547
-220200;30012473174;30012473174
-219600;15906377618364;15906377618364
-219300;212544738572991;212544738572991
-217320;3821406503805;3821406503805
-217140;15594316072341;15594316072341
-216840;6757638446098;6757638446098
-216420;282344021342587;282344021342587
-216360;8389917034588;8389917034588
-215820;22170868763629;22170868763629
-215400;17362920264;17362920264
-214560;4268731364444;4268731364444
-214260;347096858;347096858
-214200;3964602775759;3964602775759
-213600;211845996398849;211845996398849
-213540;104834545602;104834545602
-213480;1037974998258;1037974998258
-213360;10391121491;10391121491
-213300;1384969623383;1384969623383
-213240;10366623293;10366623293
-213180;1024289910;1024289910
-213120;115001738989;115001738989
-213060;124605522853;124605522853
-212940;903141848271;903141848271
-212700;14023796647;14023796647
-212640;13081830242053;13081830242053
-212580;384538674363;384538674363
-212520;13934011685912;13934011685912
-212460;549615922719;549615922719
-212400;10409773799483;10409773799483
-212340;2386608610050487;2386608610050487
-212280;138629929967296;138629929967296
-212220;90433662882023;90433662882023
-212160;2989330583236;2989330583236
-212100;4997613241867;4997613241867
-212040;2247210649516;2247210649516
-211980;13061079462676;13061079462676
-211920;1717450464802984;1717450464802984
-211860;218119457328;218119457328
-211800;44725835522844;44725835522844
-211740;1486875887062;1486875887062
-211680;7972980024861;7972980024861
-211620;106864865888;106864865888
-211560;75539327355548;75539327355548
-211500;12302531458136;12302531458136
-211440;17357320271444;17357320271444
-211380;51269349070864;51269349070864
-211320;4370344192827;4370344192827
-211260;1147857766957;1147857766957
-211200;10759894705747;10759894705747
-211080;3629724608399;3629724608399
-211020;4087223106043;4087223106043
-210900;71676727823;71676727823
-210840;91027106610;91027106610
-210780;29607070357535;29607070357535
-210720;91251623748;91251623748
-210600;90213234695;90213234695
-210480;2744272421471;2744272421471
-210420;495837612117;495837612117
-210360;712387346968;712387346968
-210300;3868076657661;3868076657661
-210180;2640671960539;2640671960539
-210120;13344287029680;13344287029680
-210060;21605232052893;21605232052893
-210000;280509577121;280509577121
-209940;356429056656;356429056656
-209880;82710374111208;82710374111208
-209820;18122221243867;18122221243867
-209760;4829366196887;4829366196887
-209700;13728983270551;13728983270551
-209640;69960737004842;69960737004842
-209580;8986643083441;8986643083441
-209520;2920051114712606;2920051114712606
-209460;34797964967972244;34797964967972244
-209400;139615748708;139615748708
-209340;89138855582807;89138855582807
-209280;101394807621258;101394807621258
-209220;13421180453707;13421180453707
-209160;927457577998;927457577998
-209100;186411183825;186411183825
-209040;19334319535342;19334319535342
-208980;167329733118;167329733118
-208920;2682593474820;2682593474820
-208860;580154561830224;-579981132515026
-208800;9267978252982;9267978252982
-208740;34812750275505;34812750275505
-208680;1298847478664;1298847478664
-208620;26315721933877;26315721933877
-208560;9908665367694;9908665367694
-208500;2172498505266;2172498505266
-208440;2827392461646;2827392461646
-208380;11113895346670;11113895346670
-208320;470629821176566;470629821176566
-208260;311547353151669;311547353151669
-208200;74296609959006;74296609959006
-208140;3536166494780;3536166494780
-208080;743291289612569;743291289612569
-208020;9635335609002;9635335609002
-207960;33015356959381;33015356959381
-207900;96310620256843;96310620256843
-207840;17536144751068;17536144751068
-207780;104939598378969;104939598378969
-207720;4307799864394;4307799864394
-207660;228986636138455;228986636138455
-207600;1398676183819;1398676183819
-207540;1071219493116263;1071219493116263
-207480;116064705899718;116064705899718
-207420;161357599522;161357599522
-207360;20412284351658;20412284351658
-207300;48243831780072;48243831780072
-207240;44437968995872459;44425018389946529
-207180;1733120854100;1733120854100
-207120;64904119914528891;64904119914528891
-207060;1028293905601955;1028293905601955
-207000;161697628947020;161697628947020
-206940;19880748021669;19880748021669
-206880;31809234883986;31809234883986
-206820;23163216477322;23163216477322
-206760;56696453228;56696453228
-206700;20778544609949;20778544609949
-206640;97628981717144;97628981717144
-206580;60073017610972;60073017610972
-206520;78086486149831;78086486149831
-206460;166997209050369;166997209050369
-206400;61215846647772;61215846647772
-206340;74891038385668;-73012418669118
-206280;116231608304299;116231608304299
-206220;163117645332234;163117645332234
-206160;722638204885;722638204885
-206100;255969398281788;255969398281788
-206040;214591743783859;-183047976045651
-205980;40561710009772;40561710009772
-205920;2163609355296;2163609355296
-205860;52366331555226;52366331555226
-205800;160490526136542;114401037923484
-205740;82353718820377;-81019592945143
-205680;324143953007403;324143953007403
-205620;9546482579435;-7233351489741
-205560;46982421077303;25009623357519
-205500;59632602483201;18075513263303
-205440;1468230996502754;1295848543924932
-205380;84472438585284;84472438585284
-205320;3484965432563372;3466689850572048
-205260;5137961940059475;5137961940059475
-205200;27819871671237;27819871671237
-205140;33055621126317;33016715265443
-205080;35145481861890;-21105573790800
-205020;6589706644000801;-3664019757711361
-204960;25511019622339;25511019622339
-204900;76103606822806;76103606822806
-204840;661829675921164;661829675921164
-204780;202123412243661;-155027088902147
-204720;51128493494888;-29646168240158
-204660;14415801747043;-8522252262381
-204600;5758358218805891;5758358218805891
-204540;27046391279862;27046391279862
-204480;74639063996513;16300350017241
-204420;185655676683296;185655676683296
-204360;28604129294497;28604129294497
-204300;178858441681765;177598412200359
-204240;635178364799687;293870996754813
-204180;20409940616044;-9180690815824
-204120;3956636956772;3956636956772
-204060;6471507534226;6471507534226
-204000;244778321521360;244778321521360
-203940;21794769427145;-20091604962953
-203880;8244638698099474;8201428233993688
-203820;3853643531883048;3853643531883048
-203760;48422343100659;48422343100659
-203700;182290652093953;41001631673201
-203640;4479415648452;4479415648452
-203580;2881922257875621;2881922257875621
-203520;2889773908147984;2886500732084136
-203460;33201111405900273;33201111405900273
-203400;137669727609042;99092936467340
-203340;1752857728004002;1752857728004002
-203280;138707355603412;-5761144195966
-203220;93574663917755006;93574663917755006
-203160;55434932435392177;55428511788243503
-203100;1001218121520260;1001218121520260
-203040;181994029968029;181994029968029
-202980;311495825209599;311488689991133
-202920;9634111066908870;9634111066908870
-202860;1731344334199063;-874844623395701
-202800;17172320053891973;-48504161613317
-202740;7567735713403281;7534872634640627
-202680;415720352478107;-157163009223705
-202620;1077160468180372;1039628363616722
-202560;27703807197532335;27446602458951683
-202500;2590465643129625;2590465643129625
-202440;451113228163705;372398878651483
-202380;75210937788744;75210937788744
-202320;87254498363964;82000045265512
-202260;42028810851627;41969998375193
-202200;1013926932085261;1013926932085261
-202140;3792992797753446;3741599736519162
-202080;419772993531458;406093552299350
-202020;1273905098027130;995378748779710
-201960;8903407776923367;8817264831730819
-201900;3804115607182470;2793664781932324
-201840;2697826441298755;2697707875380383
-201780;126903678867369;126903678867369
-201720;43891822144505154;43890875309021902
-201660;5425163075597806;5220312565793586
-201600;986502963641065;978453323762407
-201540;2729107795157487;1986646514881429
-201480;44928349079035;43678570401367
-201420;2065779228119778;2065779228119778
-201360;6345690947068784;4279304944719880
-201300;10219442968733547;10162984897405537
-201240;2904285455616564;1735027565777392
-201180;4434422453531687;898634636253295
-201120;1049429987963379;622631248022801
-201060;3509966612816764;-2095752428600896
-201000;4880895018136716;4774900466447796
-200940;2210337285383177;1765727244235215
-200880;5623080218662782;5568839329990984
-200820;28491687420232758;28382417077828540
-200760;6109526107250706;5010928479898272
-200700;38748268077612928;38524302348829972
-200640;5927921130810284;4172268296548428
-200580;9938746687233643;6244919481365493
-200520;184058283483710;183446654150502
-200460;13870185953509093;13395185786032965
-200400;1008760623096686;449992887956870
-200340;96493965984065623;74052702981543765
-200280;129074171364171548;126581584206417622
-200220;223857246314189;-68155654972893
-200160;1090767600831696;-1071200128738190
-200100;200243906884507;169153201256497
-200040;22641814776279470;20951964612000260
-199980;5647787297048386;5520394892855658
-199920;424047934910792;-405146939785730
-199860;38030603201201668;37947054833035272
-199800;33783119989100152;31303025010089818
-199740;2778048058557352;1580284159240042
-199680;2391680383839890;835117539902546
-199620;9603017199769148;8799904547531840
-199560;7341146029940760;4179866953100530
-199500;39523879892842714;38793147939900100
-199440;1303934081036671;1176902112498191
-199380;28733502053669318;24623206268186716
-199320;11109285193107289;1582883852068921
-199260;97495558700948475;41496955623253597
-199200;74068204002457556;72696686645226952
-199140;52089538387268407;50036471092983509
-199080;95357876459562494;95356070175865952
-199020;77289744262281682;74545229436005020
-198960;2615116315387714;-878024544075624
-198900;121238208948455227;114891069458318403
-198840;51240546708001704;51239185269062878
-198780;32460350534068565;-29243632999629929
-198720;1461528785311516279;1460178569222670587
-198660;8658071326207782;7987947022773860
-198600;1797197537267482147;1796644824736062399
-198540;1118290288421516544;1117958467834103334
-198480;646208920344781445;646158356838790597
-198420;20557463303616825;20495029263595221
-198360;17673008013306492;17656272718022432
-198300;491157007613333270;491042854741916424
-198240;52218113531901002;52088922453145188
-198180;32574598946550606;29344542317569482
-198120;4527863925634847;4410028163434325
-198060;80074618616968787;-9351282023589813
-198000;47137827726663186;47123376166892106
-197940;3290051573414708;-205957123719548
-197880;100457542066072853;99689985061201715
-197820;4189943118001513;3790960874149683
-197760;832616577856739;135560003093699
-197700;89109728518608781;83364699856279491
-197640;27827377947494922;13616663956908298
-197580;11970506261563852;-7953819240348032
-197520;23809847409880377;11753015020276383
-197460;89409045204760625;84896437413824421
-197400;483071795997342628;-480232258067361112
-197340;63958092818957016;55441080266360932
-197280;1427883919305891502;-1218499362693423296
-197220;163559643140324047;-159924537093837169
-197160;161136789247097152;-159955877514024016
-197100;172125108595000873;75516233413769175
-197040;20946931398211872;-20200714268391800
-196980;1163036468457672147;-1162355839261995657
-196920;136347284408505070;-130884516164543980
-196860;80624252441151198;-75093192012795514
-196800;180459632131363846;-175415195528139206
-196740;86465477032571034;-81352231342893068
-196680;45511779803761706;-43996633188514346
-196620;1520705314450461093;-1515000200062711447
-196560;1029563516673653247;-1028591479436379041
-196500;7710752481477714;-639172344618816
-196440;23805386292867431;-22800782428074199
-196380;772751710772563;-81779066108913
-196320;746555935358056;433404452607474
-196260;96114715301947824;-48341929990060442
-196200;48185503878243952;-23641214880824156
-196140;60811095399497436;-59689403409614986
-196080;12147333604592286;-5831248599384454
-196020;6513780887067397;-3464081915411013
-195960;11527001616083483;-11044114415546571
-195900;33252495955822007;13484512541072541
-195840;3483631823969737;-1218588365038161
-195780;2266413466727195;-1197326269842155
-195720;14450843505680332;-14420689605780214
-195660;3320138654802051;-3320138654802051
-195600;99894890830514088;87726739898879490
-195540;790767303727962;463391134865918
-195480;6441406504129279;-5726911141655217
-195420;4505428468664306;-2292611663165062
-195360;1403600412663835;-1273804942144429
-195300;48998111645413807;-46329919136501703
-195240;6510946515931805;-5379834325326491
-195180;121365879347496062;121071979158252342
-195120;284485709320908355;-262245229200570497
-195060;1803989588184230;1461383846619188
-195000;19656870026324826;-18903843565940792
-194940;5369274736684704;4715875057204574
-194880;5501563069485157;-1490922931669593
-194820;9558149557820534;-8911959059123348
-194760;1963851972844575;-174246484439905
-194700;11483364885552570;-6608844541159930
-194640;1766006250269448;-836957516748702
-194580;1706210389410850;-549012916233318
-194520;2847289564095141465;2842466655961484731
-194460;215492500278925463;212410710650527559
-194400;1933728687293474;139953075583700
-194340;15130120475991839;14818009266750853
-194280;313372559456982;134999920608904
-194220;2918693503071017;-2918086941094723
-194160;113118680156301165;111583131042771797
-194100;7826321419957154;1346752292170436
-194040;2743024636361503;-2714778100162355
-193980;2273280825222660;-1372114201344288
-193920;8594845569329947;614430117350405
-193860;163369290702559214;-163369290702559214
-193800;731872200465285;-266892161646791
-193740;2850788979610554145;-2848020248880418801
-193680;2185097154388486;-2183550523334076
-193620;57051752708914074;-56699331348999774
-193560;45737135255861253;45385079499374203
-193500;1675082907116984;-465617619931192
-193440;45799611640347042;-45799611640347042
-193380;337664059819382469;-334043685951043569
-193320;3555168574057665;-3555168574057665
-193260;3315451161028224922;3145526953182576476
-193200;811340996550554;-262756727112438
-193140;232186767030403516;-227182075324054150
-193080;19775925825047630;-19775925825047630
-193020;281299718392690;-281299718392690
-192960;755458031601745;-754662202570059
-192900;90732089364018819;-90732089364018819
-192840;5215594069184346;-5215594069184346
-192780;3219731579868456665;-3219731579868456665
-192720;738992322972030;-738992322972030
-192660;23343382453302478;-23343382453302478
-192600;2919171913650166;-2919171913650166
-192540;3495901788332229;-3495901788332229
-192480;34560084168291;-34560084168291
-192420;1388270409489837;-1388270409489837
-192360;3323598777693539;848982218289421
-192300;6201584335519;-6201584335519
-192240;487744432397208;-487744432397208
-192180;11404128536397368;-11404128536397368
-192120;442948445175643;-442948445175643
-192060;2022405982221881;-2022405982221881
-192000;411824498233550;-272193197980982
-191940;3463635889469552;-3186419170878042
-191880;9549486960966;-9549486960966
-191760;740030692260675;-740030692260675
-191700;2196822259134726;-2196822259134726
-191640;1340883804671239;-1340883804671239
-191580;7690740308271078;-7690740308271078
-191520;660849693615401;-660849693615401
-191460;4004856414720047;-4004856414720047
-191400;61584962441398;-61584962441398
-191340;179540887784022;-179540887784022
-191280;2247779694369;-2247779694369
-191220;2810899376062221;-2810899376062221
-191160;19261575218823130;-19261575218823130
-191100;52873107894475;-52873107894475
-191040;51382311220285;-51382311220285
-190980;7949569453877458;-7949569453877458
-190920;529402087974346;-529402087974346
-190860;16642425050865;-16641841159449
-190800;931880989392502;-931880989392502
-190740;160876129637598;-160876129637598
-190680;51295401652130;-51295401652130
-190620;14314532480661;-14314532480661
-190560;172653539545095;-172653539545095
-190500;23809889952720;-23809889952720
-190440;4255982688381;-4255982688381
-190380;1977569740603841;-1977569740603841
-190320;1021581656436;-1021581656436
-190260;1785537477247;-1785537477247
-190200;2952330426985155;-2952330426985155
-190140;8142450090320;-8142450090320
-190080;1715605923858520;-1715605923858520
-190020;1335929764828;-1335929764828
-189960;8054561727;-8054561727
-189900;43634152752102;-43634152752102
-189840;20644891359357;-20644891359357
-189780;74364165767020;-58165872206492
-189720;128007151566831;-1758906542237
-189660;17378774079242;-17378774079242
-189600;114225801175766;-114225801175766
-189540;37699650266258161;-37699650266258161
-189480;1942679235206243;-1942679235206243
-189420;55975520959898;-55975520959898
-189360;93432532646973639;-93432532646973639
-189300;7129430891794235;-7107963358405161
-189240;21925994439706;-21925994439706
-189180;15410733530576;-15410733530576
-189120;23573751831772;-23573751831772
-189060;134032462613059;-134032462613059
-189000;37031145249739;-37031145249739
-188940;41676336727217;-41676336727217
-188880;262139389973198;-262139389973198
-188820;7847825848772;-7847825848772
-188760;123976326896146;-123976326896146
-188700;18414973565658;-18414973565658
-188640;135431164729444;-135431164729444
-188580;8329167084470480;-8329167084470480
-188520;226793949010747;-226793949010747
-188460;560552066896619;-560552066896619
-188400;23897266129121;-23897266129121
-188340;298197571238616;-298197571238616
-188280;3595048706179343;-3595048706179343
-188220;1876119019866725;-1876119019866725
-188160;59573083216470;-59573083216470
-188100;10386471241089;-10386471241089
-188040;109540175979345;-109540175979345
-187980;1351287629767205;-1350734468263225
-187920;1269318938232;-1269318938232
-187860;824598198668959;-824598198668959
-187800;3021229777024803;-3021229777024803
-187740;1003012935950447;-1003012935950447
-187680;412731419929176;-412731419929176
-187620;2251380820483;-2251380820483
-187560;42941029776317;-42941029776317
-187500;20385649603263;-20385649603263
-187440;6212205369424603;-6212205369424603
-187380;38015350757789;-38015350757789
-187320;3000574044673280;-3000574044673280
-187260;418259056414973;-418259056414973
-187200;48783747154743;-48783747154743
-187140;12701682608397;-12701682608397
-187080;492119554912305;-492119554912305
-187020;13322252406723;-13322252406723
-186960;7503619605931909;-7503619605931909
-186900;1057003493864;-1057003493864
-186840;105521880599341;-105521880599341
-186780;964173432601;-964173432601
-186720;7486940457757;-7486940457757
-186420;11519905916494951;-7909309957507809
-186360;51897396682069;-51897396682069
-186300;10723488439;-10723488439
-186180;219572987291925;-219572987291925
-186120;4380112439744;-4380112439744
-186060;5494531013;-5494531013
-185940;219370164646571;-219370164646571
-185820;521252140303;-521252140303
-185700;19432092757533;-19432092757533
-185640;8203874384108;-8203874384108
-185280;114495774337573;-114495774337573
-185220;87090365456988;-87090365456988
-185160;4268731364444;-4268731364444
-185040;8771797658309;-8771797658309
-184980;22132326417264;-22132326417264
-184920;585941569826;-585941569826
-184800;5048490297264;-5048490297264
-184680;2083015061489;-2083015061489
-184260;5554715835757;5554715835757
-184200;972433796567509;-972433796567509
-184140;5651550163658;-5651550163658
-184020;80929223546;-80929223546
-183900;43007766552636101;-43007766552636101
-183180;7236691024809;-7236691024809
-182400;1805297979493571;-1805297979493571
-182340;681028619263279;-681028619263279
-181680;1353999612378;-1353999612378
-181200;113529433229;-113529433229
-180180;33060842414604;-33060842414604
-179580;343085112028755;-343085112028755
-179520;15906377618364;-15906377618364
-178320;177280162046764;-177280162046764
-177900;16327268781367;-16327268781367
-177300;270133945598659;-270133945598659
-175080;102585541689;-102585541689
-175020;125013686619150;-125013686619150
-174900;35264576526227;-35264576526227
-174000;7083531680537;-7083531680537
-168120;700070587875;-700070587875
-163380;126398551245;-126398551245
-161160;6665589160077;-6665589160077
-153360;2786887277176;-2786887277176
-138180;784699599920;-784699599920
-115140;17388473740;-17388473740
-115080;17389547040;-17389547040
-70140;17496133052;-17496133052
-19980;216558840797888217;216558840797888217
18000;216558840797888217;-216558840797888217
60000;1006622141407037933;1006622141407037933
73080;10923086432019983734;10923086432019983734
73800;10923086432019983734;-10923086432019983734
74160;47365088727841353;47365088727841353
75960;47365088727841353;-47365088727841353
81660;9915356752940611347;9915356752940611347
81780;19890381488000951020;59667982119728326
81900;9975024735060339673;-9975024735060339673
82440;257741879600571692937;257741879600571692937
82560;257741879600571692937;-257741879600571692937
180000;1006622141407037933;-1006622141407037933
610920;2040035738;-2040035738
852000;47723094105525;-47723094105525
887100;663809160482;-663809160482
887220;18005427931735774;-18005427931735774`

var pool = makePool()

func BenchmarkSwap(b *testing.B) {
	result := &SwapResultV2{}
	amountIn := StrToInt256("10000000000000000000000")
	for b.Loop() {
		pool.Swap(true, amountIn, nil, result)
	}
}

func BenchmarkGetTickNew(b *testing.B) {
	for b.Loop() {
		pool.TickDataProvider.GetTick(1000)
	}
}

func makePool() *Pool {
	ticks := make([]Tick, 0)
	for _, row := range strings.Split(WETH_USDT_pool_ticks_csv, "\n") {
		fields := strings.Split(row, ";")

		ticks = append(ticks, Tick{
			Index:          StrToInt(fields[0]),
			LiquidityGross: StrToUint256(fields[1]),
			LiquidityNet:   StrToInt256(fields[2]),
		})
	}
	ticksHandler := NewTicksHandler()
	ticksHandler.SetTicks(ticks)

	return NewPoolV3(
		3000,
		-197928,
		StrToUint256("3991703794680466622472129"),
		entities.NewToken(1, common.HexToAddress("0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"), 18, "WETH", "WETH"),
		entities.NewToken(1, common.HexToAddress("0xdac17f958d2ee523a2206206994597c13d831ec7"), 6, "USDT", "USDT"),
		ticksHandler,
	)
}

func StrToUint256(val string) (v *uint256.Int) {
	v = new(uint256.Int)
	v.SetFromDecimal(val)
	return
}

func StrToInt(s string) int32 {
	i, _ := strconv.ParseInt(s, 10, 64)
	return int32(i)
}

func StrToInt256(val string) (v *int256.Int) {
	v = new(int256.Int)
	v.SetFromDec(val)
	return
}
